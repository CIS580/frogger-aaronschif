(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var _game = require("./game.js");

var _player = require("./player.js");

var _car = require("./car.js");

var canvas = document.getElementById('screen');
var game = new _game.Game(canvas, update, render);
var player = new _player.Player({ x: 0, y: 256 });
let car = new _car.Car(canvas);

var masterLoop = function (timestamp) {
    game.loop(timestamp);
    window.requestAnimationFrame(masterLoop);
};
masterLoop(performance.now());

function update(elapsedTime) {
    player.update(elapsedTime);
    car.update(elapsedTime);
    // TODO: Update the game objects
}

function render(elapsedTime, ctx) {
    ctx.fillStyle = "lightblue";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    player.render(elapsedTime, ctx);
    car.render(elapsedTime, ctx);
}

},{"./car.js":2,"./game.js":4,"./player.js":5}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
class Actor {
    constructor(world) {
        this.baseControlState = null;
        this.baseRenderState = null;
        this.controlState = null;
        this.renderState = null;

        this.world = world;
        this.x = 0;
        this.y = 0;
        this.width = 64;
        this.height = 64;
    }

    getHitBoxes() {
        return [];
    }

    collect() {
        return false;
    }

    update(dt) {
        let cur = this.controlState.next({ dt: dt });
        if (cur.done) {
            this.controlState = this.baseControlState.bind(this)();
        } else if (cur.value !== null) {
            this.controlState = cur.value;
        }
    }

    render(dt, ctx) {
        let cur = this.renderState.next({ dt: dt, ctx: ctx });
        if (cur.done) {
            this.renderState = this.baseRenderState.bind(this)();
        } else if (cur.value !== null) {
            this.renderState = cur.value;
        }
    }
}

exports.Actor = Actor;
class Car extends Actor {
    constructor(world) {
        super(world);
        this.controlState = this.controlDrive.bind(this)();
        this.renderState = this.renderDrive.bind(this)();
        this.sprite = new Image();
        this.sprite.src = encodeURI('./assets/cars_mini.svg');
        this.width = 64;
        this.height = 112;
        this.spriteNum = 0;
        this.setColor();
    }

    collect() {
        if (this.y + this.height < 0 || this.x + this.width < 0 || this.x > this.world.width || this.y > this.world.height) {
            this.setColor();
            return true;
        }
    }

    *controlDrive() {
        while (true) {
            let { dt } = yield null;
            this.y += 400 * dt / 1000;
            if (this.collect()) {
                this.y = 1 - this.height;
            }
        }
    }

    *renderDrive(ctx) {
        while (true) {
            let { dt, ctx } = yield null;
            ctx.fillStyle = "rgb(200,0,0)";
            ctx.fillRect(this.x, this.y, this.width, this.height);
            ctx.drawImage(this.sprite, 247 * this.spriteNum, 0, 200, 350, this.x, this.y, this.width, this.height);
        }
    }

    setColor() {
        this.spriteNum = Math.floor(Math.random() * 4);
    }
}
exports.Car = Car;

},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
class Controller {
    constructor() {
        this.input = {
            up: false,
            down: false,
            right: false,
            left: false
        };
    }

    isAnyPressed() {
        return this.input.up | this.input.down | this.input.right | this.input.left;
    }

    attach() {
        window.addEventListener('keydown', event => {
            let preventDefault = false;
            switch (event.keyCode) {
                case 38:case 87:
                    // Up
                    preventDefault = true;
                    this.input.up = true;
                    break;
                case 37:case 65:
                    //Left
                    preventDefault = true;
                    this.input.left = true;
                    break;
                case 39:case 68:
                    // Right
                    preventDefault = true;
                    this.input.right = true;
                    break;
                case 40:case 83:
                    // Down
                    preventDefault = true;
                    this.input.down = true;
                    break;
            }
            if (preventDefault) {
                event.preventDefault();
            }
        });

        window.addEventListener('keyup', event => {
            switch (event.keyCode) {
                case 38:case 87:
                    // Up
                    this.input.up = false;
                    break;
                case 37:case 65:
                    //Left
                    this.input.left = false;
                    break;
                case 39:case 68:
                    // Right
                    this.input.right = false;
                    break;
                case 40:case 83:
                    // Down
                    this.input.down = false;
                    break;
            }
        });
    }
}
exports.Controller = Controller;

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
class Game {
    constructor(screen, updateFunction, renderFunction) {

        this.update = updateFunction;
        this.render = renderFunction;

        // Set up buffers
        this.frontBuffer = screen;
        this.frontCtx = screen.getContext('2d');
        this.backBuffer = document.createElement('canvas');
        this.backBuffer.width = screen.width;
        this.backBuffer.height = screen.height;
        this.backCtx = this.backBuffer.getContext('2d');

        // Start the game loop
        this.oldTime = performance.now();
        this.paused = false;
    }

    pause(flag) {
        this.paused = flag == true;
    }

    loop(newTime) {
        var game = this;
        var elapsedTime = newTime - this.oldTime;
        this.oldTime = newTime;

        if (!this.paused) this.update(elapsedTime);
        this.render(elapsedTime, this.frontCtx);

        // Flip the back buffer
        this.frontCtx.drawImage(this.backBuffer, 0, 0);
    }
}
exports.Game = Game;

},{}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Player = undefined;

var _common = require("./common.js");

const MS_PER_FRAME = 1000 / 16;

const STATES = {
    idle: Symbol(),
    walking: Symbol(),
    blinking: Symbol(),
    jumping: Symbol()
};

let audioContext = new AudioContext();

let controller = new _common.Controller();
controller.attach();

let bong = document.createElement('audio');
bong.src = encodeURI('assets/bong.ogg');

let music = new Audio(encodeURI('assets/bgm_action_2.mp3'));
music.loop = true;
music.play();

(() => {
    var audioCtx = new window.AudioContext();
    window.audio = audioCtx;
    var gainNode = audioCtx.createGain();
    gainNode.gain.value = 1.0;
    gainNode.connect(audioCtx.destination);

    let bongSource = audioCtx.createMediaElementSource(bong);
    bongSource.connect(gainNode);

    let musicSource = audioCtx.createMediaElementSource(music);
    musicSource.connect(gainNode);
})();

class Player {
    constructor(position) {
        this.state = STATES.idle;
        this.stateFunc = this.stateIdle.bind(this)();
        this.x = position.x;
        this.y = position.y;
        this.width = 64;
        this.height = 64;
        this.spritesheet = new Image();
        this.spritesheet.src = encodeURI('assets/PlayerSprite2.png');
        this.timer = 0;
        this.frame = 0;
        this.sittingSprites = [{ x: 64 * 3, y: 64 }, { x: 64 * 0, y: 64 }, { x: 64 * 1, y: 64 }, { x: 64 * 2, y: 64 }, { x: 64 * 1, y: 64 }, { x: 64 * 0, y: 64 }];
        this.jumpingSprites = [{ x: 64 * 3, y: 0 }, { x: 64 * 2, y: 0 }, { x: 64 * 1, y: 0 }, { x: 64 * 0, y: 0 }, { x: 64 * 1, y: 0 }, { x: 64 * 2, y: 0 }, { x: 64 * 3, y: 0 }];
    }

    update(time) {
        this.timer += time;
        let newFrame = false;
        if (this.timer > MS_PER_FRAME) {
            this.timer = 0;
            this.frame++;
        } else {
            return;
        }

        let cur = this.stateFunc.next({ dt: time });
        if (cur.done) {
            this.stateFunc = this.stateIdle.bind(this)();
        } else if (cur.value !== null) {
            this.stateFunc = cur.value;
        }
    }

    *stateIdle() {
        while (true) {
            let { dt } = yield null;

            if (controller.isAnyPressed()) {
                let h = { x: 0, y: 0 };
                if (controller.input.right) {
                    h.x = 1;
                } else if (controller.input.left) {
                    h.x = -1;
                } else if (controller.input.up) {
                    h.y = -1;
                } else if (controller.input.down) {
                    h.y = 1;
                }
                this.stateFunc = this.stateJumping.bind(this)(h);
            }
        }
    }

    *stateJumping(heading) {
        bong.play();
        let { x, y } = heading;
        let [endX, endY] = [this.x + this.height * x, this.y + this.height * y];
        let timeToTake = 1000 / 18;
        let time = 0;
        while (time < timeToTake) {
            let { dt } = yield null;
            let dd = dt / timeToTake;
            time += dt;
            this.x += this.width * x * dd;
            this.y += this.height * y * dd;
        }
        [this.x, this.y] = [endX, endY];
        bong.pause();
        bong.fastSeek(0);
    }

    render(time, ctx) {
        ctx.fillStyle = 'green';
        ctx.fillRect(this.x, this.y, this.width, this.height);
        switch (this.state) {
            case STATES.jumping:
                {
                    let frame = this.frame % this.jumpingSprites.length;
                    let { x, y } = this.jumpingSprites[frame];
                    ctx.drawImage(this.spritesheet, x, y, this.width, this.height, this.x, this.y, this.width, this.height);
                    if (this.frame === this.jumpingSprites.length) {
                        this.frame = 0;
                        this.state = STATES.idle;
                    }
                    break;
                }

            case STATES.idle:
                {
                    if (controller.isAnyPressed()) {
                        this.frame = 0;
                        this.state = STATES.jumping;
                    }
                    // handle blinking
                    let frame = Math.min(this.frame % (this.sittingSprites.length + 20), this.sittingSprites.length);
                    frame = frame % this.sittingSprites.length;
                    let { x, y } = this.sittingSprites[frame];
                    ctx.drawImage(
                    // image
                    this.spritesheet,
                    // source rectangle
                    x, y, this.width, this.height,
                    // destination rectangle
                    this.x, this.y, this.width, this.height);
                    break;
                    // TODO: Implement your player's redering according to state
                }
        }
    }
}
exports.Player = Player;

},{"./common.js":3}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXBwLmpzIiwic3JjL2Nhci5qcyIsInNyYy9jb21tb24uanMiLCJzcmMvZ2FtZS5qcyIsInNyYy9wbGF5ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFJLFNBQVMsU0FBUyxjQUFULENBQXdCLFFBQXhCLENBQWI7QUFDQSxJQUFJLE9BQU8sZUFBUyxNQUFULEVBQWlCLE1BQWpCLEVBQXlCLE1BQXpCLENBQVg7QUFDQSxJQUFJLFNBQVMsbUJBQVcsRUFBQyxHQUFHLENBQUosRUFBTyxHQUFHLEdBQVYsRUFBWCxDQUFiO0FBQ0EsSUFBSSxNQUFNLGFBQVEsTUFBUixDQUFWOztBQUVBLElBQUksYUFBYSxVQUFTLFNBQVQsRUFBb0I7QUFDakMsU0FBSyxJQUFMLENBQVUsU0FBVjtBQUNBLFdBQU8scUJBQVAsQ0FBNkIsVUFBN0I7QUFDSCxDQUhEO0FBSUEsV0FBVyxZQUFZLEdBQVosRUFBWDs7QUFFQSxTQUFTLE1BQVQsQ0FBZ0IsV0FBaEIsRUFBNkI7QUFDekIsV0FBTyxNQUFQLENBQWMsV0FBZDtBQUNBLFFBQUksTUFBSixDQUFXLFdBQVg7QUFDQTtBQUNIOztBQUVELFNBQVMsTUFBVCxDQUFnQixXQUFoQixFQUE2QixHQUE3QixFQUFrQztBQUM5QixRQUFJLFNBQUosR0FBZ0IsV0FBaEI7QUFDQSxRQUFJLFFBQUosQ0FBYSxDQUFiLEVBQWdCLENBQWhCLEVBQW1CLE9BQU8sS0FBMUIsRUFBaUMsT0FBTyxNQUF4QztBQUNBLFdBQU8sTUFBUCxDQUFjLFdBQWQsRUFBMkIsR0FBM0I7QUFDQSxRQUFJLE1BQUosQ0FBVyxXQUFYLEVBQXdCLEdBQXhCO0FBQ0g7OztBQzVCRDs7Ozs7QUFFTyxNQUFBLEFBQU07Z0JBQ1QsQUFBWSxPQUFPLEFBQ2Y7YUFBQSxBQUFLLG1CQUFMLEFBQXdCLEFBQ3hCO2FBQUEsQUFB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Q3ZCLEFBQ0QsQUFDSCxBQUVEOzs7OztpQkFBSyxPQUFMLEFBQVksQUFBTSxBQUNkOzt3QkFBSSxXQUFKLEFBQUksQUFBVyxnQkFBZ0IsQUFDM0I7NkJBQUEsQUFBSyxRQUFMLEFBQWEsQUFDYjs2QkFBQSxBQUFLLFFBQVEsT0FBYixBQUFvQixBQUN2QixBQUNELEFBQ0E7Ozt3QkFBSSxRQUFRLEtBQUEsQUFBSyxJQUFJLEtBQUEsQUFBSyxTQUFTLEtBQUEsQUFBSyxlQUFMLEFBQW9CLFNBQTNDLEFBQVMsQUFBMkMsS0FBSyxLQUFBLEFBQUssZUFBMUUsQUFBWSxBQUE2RSxBQUN6Rjs0QkFBUSxRQUFRLEtBQUEsQUFBSyxlQUFyQixBQUFvQyxBQUNwQzt3QkFBSSxFQUFBLEFBQUMsR0FBRCxBQUFJLE1BQUssS0FBQSxBQUFLLGVBQWxCLEFBQWEsQUFBb0IsQUFDakM7d0JBQUEsQUFBSSxBQUNBLEFBQ0E7O3lCQUZKLEFBRVMsQUFDTCxBQUNBOzt1QkFKSixBQUlPLEdBQUcsS0FKVixBQUllLE9BQU8sS0FKdEIsQUFJMkIsQUFDdkIsQUFDQTs7eUJBTkosQUFNUyxHQUFHLEtBTlosQUFNaUIsR0FBRyxLQU5wQixBQU15QixPQUFPLEtBMUc1QixBQUNoQixBQTBFSSxBQXlCUSxBQU1xQyxBQUVyQyxBQUNBLEFBQ0gsQUFFUjs7Ozs7OztRLEFBaEhRLFMsQUFBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHtHYW1lfSBmcm9tIFwiLi9nYW1lLmpzXCI7XG5pbXBvcnQge1BsYXllcn0gZnJvbSBcIi4vcGxheWVyLmpzXCI7XG5pbXBvcnQge0Nhcn0gZnJvbSBcIi4vY2FyLmpzXCI7XG5cbnZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NyZWVuJyk7XG52YXIgZ2FtZSA9IG5ldyBHYW1lKGNhbnZhcywgdXBkYXRlLCByZW5kZXIpO1xudmFyIHBsYXllciA9IG5ldyBQbGF5ZXIoe3g6IDAsIHk6IDI1Nn0pXG5sZXQgY2FyID0gbmV3IENhcihjYW52YXMpO1xuXG52YXIgbWFzdGVyTG9vcCA9IGZ1bmN0aW9uKHRpbWVzdGFtcCkge1xuICAgIGdhbWUubG9vcCh0aW1lc3RhbXApO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobWFzdGVyTG9vcCk7XG59XG5tYXN0ZXJMb29wKHBlcmZvcm1hbmNlLm5vdygpKTtcblxuZnVuY3Rpb24gdXBkYXRlKGVsYXBzZWRUaW1lKSB7XG4gICAgcGxheWVyLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gICAgY2FyLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gICAgLy8gVE9ETzogVXBkYXRlIHRoZSBnYW1lIG9iamVjdHNcbn1cblxuZnVuY3Rpb24gcmVuZGVyKGVsYXBzZWRUaW1lLCBjdHgpIHtcbiAgICBjdHguZmlsbFN0eWxlID0gXCJsaWdodGJsdWVcIjtcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBwbGF5ZXIucmVuZGVyKGVsYXBzZWRUaW1lLCBjdHgpO1xuICAgIGNhci5yZW5kZXIoZWxhcHNlZFRpbWUsIGN0eClcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnQgY2xhc3MgQWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHdvcmxkKSB7XG4gICAgICAgIHRoaXMuYmFzZUNvbnRyb2xTdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmFzZVJlbmRlclN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250cm9sU3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlclN0YXRlID0gbnVsbDtcblxuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMueCA9IDA7XG4gICAgICAgIHRoaXMueSA9IDA7XG4gICAgICAgIHRoaXMud2lkdGggPSA2NDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSA2NDtcbiAgICB9XG5cbiAgICBnZXRIaXRCb3hlcygpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbGxlY3QoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgbGV0IGN1ciA9IHRoaXMuY29udHJvbFN0YXRlLm5leHQoe2R0OiBkdH0pO1xuICAgICAgICBpZiAoY3VyLmRvbmUpIHtcbiAgICAgICAgICAgdGhpcy5jb250cm9sU3RhdGUgPSB0aGlzLmJhc2VDb250cm9sU3RhdGUuYmluZCh0aGlzKSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGN1ci52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jb250cm9sU3RhdGUgPSBjdXIudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoZHQsIGN0eCkge1xuICAgICAgICBsZXQgY3VyID0gdGhpcy5yZW5kZXJTdGF0ZS5uZXh0KHtkdDogZHQsIGN0eDogY3R4fSk7XG4gICAgICAgIGlmIChjdXIuZG9uZSkge1xuICAgICAgICAgICB0aGlzLnJlbmRlclN0YXRlID0gdGhpcy5iYXNlUmVuZGVyU3RhdGUuYmluZCh0aGlzKSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGN1ci52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJTdGF0ZSA9IGN1ci52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhciBleHRlbmRzIEFjdG9yIHtcbiAgICBjb25zdHJ1Y3Rvcih3b3JsZCkge1xuICAgICAgICBzdXBlcih3b3JsZClcbiAgICAgICAgdGhpcy5jb250cm9sU3RhdGUgPSB0aGlzLmNvbnRyb2xEcml2ZS5iaW5kKHRoaXMpKCk7XG4gICAgICAgIHRoaXMucmVuZGVyU3RhdGUgPSB0aGlzLnJlbmRlckRyaXZlLmJpbmQodGhpcykoKTtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5zcHJpdGUuc3JjID0gZW5jb2RlVVJJKCcuL2Fzc2V0cy9jYXJzX21pbmkuc3ZnJyk7XG4gICAgICAgIHRoaXMud2lkdGggPSA2NDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAxMTI7XG4gICAgICAgIHRoaXMuc3ByaXRlTnVtID0gMDtcbiAgICAgICAgdGhpcy5zZXRDb2xvcigpO1xuICAgIH1cblxuICAgIGNvbGxlY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLnkrdGhpcy5oZWlnaHQgPCAwIHx8IHRoaXMueCt0aGlzLndpZHRoIDwgMCB8fFxuICAgICAgICAgICAgICAgIHRoaXMueCA+IHRoaXMud29ybGQud2lkdGggfHwgdGhpcy55ID4gdGhpcy53b3JsZC5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29sb3IoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgKmNvbnRyb2xEcml2ZSgpIHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGxldCB7ZHR9PSB5aWVsZCBudWxsO1xuICAgICAgICAgICAgdGhpcy55ICs9IDQwMCAqIGR0IC8gMTAwMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbGxlY3QoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMueSA9IDEtdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAqcmVuZGVyRHJpdmUoY3R4KSB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBsZXQge2R0LCBjdHh9ID0geWllbGQgbnVsbDtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYigyMDAsMCwwKVwiO1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLFxuICAgICAgICAgICAgICAgIDI0Nyp0aGlzLnNwcml0ZU51bSwgMCwgMjAwLCAzNTAsXG4gICAgICAgICAgICAgICAgdGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0XG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDb2xvcigpIHtcbiAgICAgICAgdGhpcy5zcHJpdGVOdW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KTtcbiAgICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmlucHV0ID0ge1xuICAgICAgICAgICAgdXA6IGZhbHNlLFxuICAgICAgICAgICAgZG93bjogZmFsc2UsXG4gICAgICAgICAgICByaWdodDogZmFsc2UsXG4gICAgICAgICAgICBsZWZ0OiBmYWxzZSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzQW55UHJlc3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQudXAgfFxuICAgICAgICAgICAgdGhpcy5pbnB1dC5kb3duIHxcbiAgICAgICAgICAgIHRoaXMuaW5wdXQucmlnaHQgfFxuICAgICAgICAgICAgdGhpcy5pbnB1dC5sZWZ0O1xuICAgIH1cblxuICAgIGF0dGFjaCgpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBwcmV2ZW50RGVmYXVsdCA9IGZhbHNlXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDM4OiBjYXNlIDg3OiAvLyBVcFxuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dC51cCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDM3OiBjYXNlIDY1OiAvL0xlZnRcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQubGVmdCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDM5OiBjYXNlIDY4OiAvLyBSaWdodFxuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5yaWdodCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDQwOiBjYXNlIDgzOiAvLyBEb3duXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0ID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmRvd24gPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzODogY2FzZSA4NzogLy8gVXBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dC51cCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAzNzogY2FzZSA2NTogLy9MZWZ0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQubGVmdCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAzOTogY2FzZSA2ODogLy8gUmlnaHRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5yaWdodCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSA0MDogY2FzZSA4MzogLy8gRG93blxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmRvd24gPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnQgY2xhc3MgR2FtZSB7XG4gICAgY29uc3RydWN0b3Ioc2NyZWVuLCB1cGRhdGVGdW5jdGlvbiwgcmVuZGVyRnVuY3Rpb24pIHtcblxuICAgICAgICB0aGlzLnVwZGF0ZSA9IHVwZGF0ZUZ1bmN0aW9uO1xuICAgICAgICB0aGlzLnJlbmRlciA9IHJlbmRlckZ1bmN0aW9uO1xuXG4gICAgICAgIC8vIFNldCB1cCBidWZmZXJzXG4gICAgICAgIHRoaXMuZnJvbnRCdWZmZXIgPSBzY3JlZW47XG4gICAgICAgIHRoaXMuZnJvbnRDdHggPSBzY3JlZW4uZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5iYWNrQnVmZmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRoaXMuYmFja0J1ZmZlci53aWR0aCA9IHNjcmVlbi53aWR0aDtcbiAgICAgICAgdGhpcy5iYWNrQnVmZmVyLmhlaWdodCA9IHNjcmVlbi5oZWlnaHQ7XG4gICAgICAgIHRoaXMuYmFja0N0eCA9IHRoaXMuYmFja0J1ZmZlci5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBnYW1lIGxvb3BcbiAgICAgICAgdGhpcy5vbGRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcGF1c2UoZmxhZykge1xuICAgICAgICB0aGlzLnBhdXNlZCA9IChmbGFnID09IHRydWUpO1xuICAgIH1cblxuICAgIGxvb3AobmV3VGltZSkge1xuICAgICAgICB2YXIgZ2FtZSA9IHRoaXM7XG4gICAgICAgIHZhciBlbGFwc2VkVGltZSA9IG5ld1RpbWUgLSB0aGlzLm9sZFRpbWU7XG4gICAgICAgIHRoaXMub2xkVGltZSA9IG5ld1RpbWU7XG5cbiAgICAgICAgaWYoIXRoaXMucGF1c2VkKSB0aGlzLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gICAgICAgIHRoaXMucmVuZGVyKGVsYXBzZWRUaW1lLCB0aGlzLmZyb250Q3R4KTtcblxuICAgICAgICAvLyBGbGlwIHRoZSBiYWNrIGJ1ZmZlclxuICAgICAgICB0aGlzLmZyb250Q3R4LmRyYXdJbWFnZSh0aGlzLmJhY2tCdWZmZXIsIDAsIDApO1xuICAgIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQge0NvbnRyb2xsZXJ9IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuXG5jb25zdCBNU19QRVJfRlJBTUUgPSAxMDAwLzE2O1xuXG5jb25zdCBTVEFURVMgPSB7XG4gICAgaWRsZTogU3ltYm9sKCksXG4gICAgd2Fsa2luZzogU3ltYm9sKCksXG4gICAgYmxpbmtpbmc6IFN5bWJvbCgpLFxuICAgIGp1bXBpbmc6IFN5bWJvbCgpLFxufVxuXG5sZXQgYXVkaW9Db250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuXG5sZXQgY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCk7XG5jb250cm9sbGVyLmF0dGFjaCgpO1xuXG5cblxubGV0IGJvbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuYm9uZy5zcmMgPSBlbmNvZGVVUkkoJ2Fzc2V0cy9ib25nLm9nZycpO1xuXG5sZXQgbXVzaWMgPSBuZXcgQXVkaW8oZW5jb2RlVVJJKCdhc3NldHMvYmdtX2FjdGlvbl8yLm1wMycpKTtcbm11c2ljLmxvb3AgPSB0cnVlO1xubXVzaWMucGxheSgpO1xuXG4oKCk9PntcbnZhciBhdWRpb0N0eCA9IG5ldyB3aW5kb3cuQXVkaW9Db250ZXh0KCk7XG53aW5kb3cuYXVkaW8gPSBhdWRpb0N0eDtcbnZhciBnYWluTm9kZSA9IGF1ZGlvQ3R4LmNyZWF0ZUdhaW4oKTtcbmdhaW5Ob2RlLmdhaW4udmFsdWUgPSAxLjA7XG5nYWluTm9kZS5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTtcblxubGV0IGJvbmdTb3VyY2UgPSBhdWRpb0N0eC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoYm9uZyk7XG5ib25nU291cmNlLmNvbm5lY3QoZ2Fpbk5vZGUpO1xuXG5sZXQgbXVzaWNTb3VyY2UgPSBhdWRpb0N0eC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UobXVzaWMpO1xubXVzaWNTb3VyY2UuY29ubmVjdChnYWluTm9kZSk7XG59KSgpXG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURVMuaWRsZTtcbiAgICAgICAgdGhpcy5zdGF0ZUZ1bmMgPSB0aGlzLnN0YXRlSWRsZS5iaW5kKHRoaXMpKCk7XG4gICAgICAgIHRoaXMueCA9IHBvc2l0aW9uLng7XG4gICAgICAgIHRoaXMueSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIHRoaXMud2lkdGggID0gNjQ7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gNjQ7XG4gICAgICAgIHRoaXMuc3ByaXRlc2hlZXQgID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHRoaXMuc3ByaXRlc2hlZXQuc3JjID0gZW5jb2RlVVJJKCdhc3NldHMvUGxheWVyU3ByaXRlMi5wbmcnKTtcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XG4gICAgICAgIHRoaXMuZnJhbWUgPSAwO1xuICAgICAgICB0aGlzLnNpdHRpbmdTcHJpdGVzID0gW3t4OiA2NCozLCB5OiA2NH0sIHt4OiA2NCowLCB5OiA2NH0sIHt4OiA2NCoxLCB5OiA2NH0sIHt4OiA2NCoyLCB5OiA2NH0sIHt4OiA2NCoxLCB5OiA2NH0sIHt4OiA2NCowLCB5OiA2NH1dO1xuICAgICAgICB0aGlzLmp1bXBpbmdTcHJpdGVzID0gW3t4OiA2NCozLCB5OiAwfSwge3g6IDY0KjIsIHk6IDB9LCB7eDogNjQqMSwgeTogMH0sIHt4OiA2NCowLCB5OiAwfSwge3g6IDY0KjEsIHk6IDB9LCB7eDogNjQqMiwgeTogMH0sIHt4OiA2NCozLCB5OiAwfV07XG4gICAgfVxuXG4gICAgdXBkYXRlKHRpbWUpIHtcbiAgICAgICAgdGhpcy50aW1lciArPSB0aW1lO1xuICAgICAgICBsZXQgbmV3RnJhbWUgPSBmYWxzZTtcbiAgICAgICAgaWYodGhpcy50aW1lciA+IE1TX1BFUl9GUkFNRSkge1xuICAgICAgICAgICAgdGhpcy50aW1lciA9IDA7XG4gICAgICAgICAgICB0aGlzLmZyYW1lKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VyID0gdGhpcy5zdGF0ZUZ1bmMubmV4dCh7ZHQ6IHRpbWV9KTtcbiAgICAgICAgaWYgKGN1ci5kb25lKSB7XG4gICAgICAgICAgIHRoaXMuc3RhdGVGdW5jID0gdGhpcy5zdGF0ZUlkbGUuYmluZCh0aGlzKSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGN1ci52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUZ1bmMgPSBjdXIudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAqc3RhdGVJZGxlKCkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgbGV0IHtkdH0gPSB5aWVsZCBudWxsO1xuXG4gICAgICAgICAgICBpZiAoY29udHJvbGxlci5pc0FueVByZXNzZWQoKSkge1xuICAgICAgICAgICAgICAgIGxldCBoID0ge3g6IDAsIHk6IDB9O1xuICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyLmlucHV0LnJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGgueCA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyLmlucHV0LmxlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaC54ID0gLTE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyLmlucHV0LnVwKSB7XG4gICAgICAgICAgICAgICAgICAgIGgueSA9IC0xO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udHJvbGxlci5pbnB1dC5kb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIGgueSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVGdW5jID0gdGhpcy5zdGF0ZUp1bXBpbmcuYmluZCh0aGlzKShoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgICpzdGF0ZUp1bXBpbmcoaGVhZGluZykge1xuICAgICAgICBib25nLnBsYXkoKTtcbiAgICAgICAgbGV0IHt4LCB5fSA9IGhlYWRpbmc7XG4gICAgICAgIGxldCBbZW5kWCwgZW5kWV0gPSBbdGhpcy54ICsgdGhpcy5oZWlnaHQqeCwgdGhpcy55ICsgdGhpcy5oZWlnaHQqeV07XG4gICAgICAgIGxldCB0aW1lVG9UYWtlID0gMTAwMC8gMTg7XG4gICAgICAgIGxldCB0aW1lID0gMDtcbiAgICAgICAgd2hpbGUgKHRpbWUgPCB0aW1lVG9UYWtlKSB7XG4gICAgICAgICAgICBsZXQge2R0fSA9IHlpZWxkIG51bGw7XG4gICAgICAgICAgICBsZXQgZGQgPSBkdCAvIHRpbWVUb1Rha2U7XG4gICAgICAgICAgICB0aW1lICs9IGR0O1xuICAgICAgICAgICAgdGhpcy54ICs9IHRoaXMud2lkdGggKiB4ICogZGQ7XG4gICAgICAgICAgICB0aGlzLnkgKz0gdGhpcy5oZWlnaHQgKiB5ICogZGQ7XG4gICAgICAgIH1cbiAgICAgICAgW3RoaXMueCwgdGhpcy55XSA9IFtlbmRYLCBlbmRZXTtcbiAgICAgICAgYm9uZy5wYXVzZSgpO1xuICAgICAgICBib25nLmZhc3RTZWVrKDApO1xuICAgIH1cblxuICAgIHJlbmRlcih0aW1lLCBjdHgpIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdncmVlbic7XG4gICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICBzd2l0Y2godGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBTVEFURVMuanVtcGluZzoge1xuICAgICAgICAgICAgICAgIGxldCBmcmFtZSA9IHRoaXMuZnJhbWUgJSAodGhpcy5qdW1waW5nU3ByaXRlcy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGxldCB7eCwgeX0gPSB0aGlzLmp1bXBpbmdTcHJpdGVzW2ZyYW1lXTtcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZXNoZWV0LFxuICAgICAgICAgICAgICAgICAgICB4LCB5LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcmFtZSA9PT0gdGhpcy5qdW1waW5nU3ByaXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURVMuaWRsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgU1RBVEVTLmlkbGU6IHtcbiAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlci5pc0FueVByZXNzZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFUy5qdW1waW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgYmxpbmtpbmdcbiAgICAgICAgICAgICAgICBsZXQgZnJhbWUgPSBNYXRoLm1pbih0aGlzLmZyYW1lICUgKHRoaXMuc2l0dGluZ1Nwcml0ZXMubGVuZ3RoICsgMjApLCB0aGlzLnNpdHRpbmdTcHJpdGVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgZnJhbWUgPSBmcmFtZSAlIHRoaXMuc2l0dGluZ1Nwcml0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxldCB7eCwgeX0gPSB0aGlzLnNpdHRpbmdTcHJpdGVzW2ZyYW1lXTtcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgICAgICAvLyBpbWFnZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZXNoZWV0LFxuICAgICAgICAgICAgICAgICAgICAvLyBzb3VyY2UgcmVjdGFuZ2xlXG4gICAgICAgICAgICAgICAgICAgIHgsIHksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAvLyBkZXN0aW5hdGlvbiByZWN0YW5nbGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgeW91ciBwbGF5ZXIncyByZWRlcmluZyBhY2NvcmRpbmcgdG8gc3RhdGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==
